<!DOCTYPE html>
<html lang="en">
<head>
<meta charset = "UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="main.css">

<title> Диаграмма </title>


</head>

<body>
<h2> Diogramma </h2> </br>

<form>
    <div class = "form-group">
        <lable>Name,Start,Finish</lable>
        <textarea id = "er13" class = "form-control" rows = "3" ></textarea>
    </div>
</form>

<div>
    <button tupe = "button" class = "btn btn-outline-red" id = "sd223" >Draw</button>
</div>

    
<h2> Graffic </h2>

<div id = "chart" >

</div>

    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script> 
    google.charts.load('current', { packages: [ 'timeline' ] });


        function init() {
          document.getElementById('sd223').addEventListener('click', draw);
          draw();
          };
        
        function draw() {
          var data = new google.visualization.DataTable();
          data.addColumn('string', 'Имя');
          data.addColumn('date', 'Начало');
          data.addColumn('date', 'Конец');
        
          var lines = document.getElementById('e13').value.split('\n')
        lines.forEach(function(el) {
          var gg = el.split(',');
          data.addRow(gg);
        });
        
        if (window.chart === undefined)
          window.chart = new google.visualization.Timeline(document.getElementById('chart'));
        var c = window.chart;
        c.clearChart();
        c.draw(data, {});
        
        };
        
        google.charts.setOnLoadCallback(init); 
    </script>    
</body>
</html>